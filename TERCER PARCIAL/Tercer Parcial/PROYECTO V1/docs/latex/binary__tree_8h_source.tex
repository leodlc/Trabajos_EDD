\hypertarget{binary__tree_8h_source}{}\doxysection{binary\+\_\+tree.\+h}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include "{}tree\_node.h"{}}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <optional>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{keyword}{enum class} TraverseDirection \{}
\DoxyCodeLine{7     Inorder,}
\DoxyCodeLine{8     Postorder,}
\DoxyCodeLine{9     PreOrder}
\DoxyCodeLine{10 \};}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{13 \textcolor{keyword}{class }\mbox{\hyperlink{class_binary_tree}{BinaryTree}} \{}
\DoxyCodeLine{14 \textcolor{keyword}{public}:}
\DoxyCodeLine{15 }
\DoxyCodeLine{16     \mbox{\hyperlink{class_binary_tree}{BinaryTree}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{17     \mbox{\hyperlink{class_binary_tree}{BinaryTree}}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* root) : root\_(root) \{\}}
\DoxyCodeLine{18     \textcolor{keywordtype}{void} insert(T value);}
\DoxyCodeLine{19     \textcolor{keywordtype}{void} remove(T value);}
\DoxyCodeLine{20     \textcolor{keywordtype}{void} traverse(std::function<\textcolor{keywordtype}{void}(T)> visitor, TraverseDirection direction = TraverseDirection::Inorder);}
\DoxyCodeLine{21     \textcolor{keywordtype}{void} traverse(std::function<\textcolor{keywordtype}{void}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}*)> visitor, TraverseDirection direction = TraverseDirection::Inorder);}
\DoxyCodeLine{22     std::optional<T> find(T value);}
\DoxyCodeLine{23     \mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* root();}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{keyword}{private}:}
\DoxyCodeLine{26     \mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* insert(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}*\& node, T value);}
\DoxyCodeLine{27     \mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* remove(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}*\& node, T value);}
\DoxyCodeLine{28     std::optional<T> find(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}*\& node, T value);}
\DoxyCodeLine{29     \textcolor{keywordtype}{void} traverse\_inorder(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* node, std::function<\textcolor{keywordtype}{void}(T)> visitor);}
\DoxyCodeLine{30     \textcolor{keywordtype}{void} traverse\_preorder(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* node, std::function<\textcolor{keywordtype}{void}(T)> visitor);}
\DoxyCodeLine{31     \textcolor{keywordtype}{void} traverse\_postorder(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* node, std::function<\textcolor{keywordtype}{void}(T)> visitor);}
\DoxyCodeLine{32     \textcolor{keywordtype}{void} traverse\_inorder(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* node, std::function<\textcolor{keywordtype}{void}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}*)> visitor);}
\DoxyCodeLine{33 }
\DoxyCodeLine{34     \textcolor{keywordtype}{int} height(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* current);}
\DoxyCodeLine{35     \textcolor{keywordtype}{int} calculate\_height(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* node);}
\DoxyCodeLine{36     \mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* root\_ = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{37 \};}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{40 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::insert}}(T value) \{}
\DoxyCodeLine{41     root\_ = insert(root\_, value);}
\DoxyCodeLine{42 \}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{45 \mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::insert}}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}*\& node, T value) \{}
\DoxyCodeLine{46     \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{47         node = \textcolor{keyword}{new} \mbox{\hyperlink{class_tree_node}{TreeNode<T>}}(value);}
\DoxyCodeLine{48     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (node-\/>value() < value) \{}
\DoxyCodeLine{49         node-\/>right(insert(node-\/>right(), value));}
\DoxyCodeLine{50         node-\/>height(std::max(node-\/>height(), node-\/>right()-\/>height() + 1));}
\DoxyCodeLine{51     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{52         node-\/>left(insert(node-\/>left(), value));}
\DoxyCodeLine{53         node-\/>height(std::max(node-\/>height(), node-\/>left()-\/>height() + 1));}
\DoxyCodeLine{54     \}}
\DoxyCodeLine{55 }
\DoxyCodeLine{56     \textcolor{keywordflow}{return} node;}
\DoxyCodeLine{57 \}}
\DoxyCodeLine{58 }
\DoxyCodeLine{59 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{60 \textcolor{keyword}{inline} \mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::remove}}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}*\& node, T value) \{}
\DoxyCodeLine{61     \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return} node;}
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \textcolor{keywordflow}{if} (value < node-\/>value()) \{}
\DoxyCodeLine{64         node-\/>left(remove(node-\/>left(), value));}
\DoxyCodeLine{65     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (value > node-\/>value()) \{}
\DoxyCodeLine{66         node-\/>right(remove(node-\/>right(), value));}
\DoxyCodeLine{67     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{68         \mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* r = node-\/>right();}
\DoxyCodeLine{69 }
\DoxyCodeLine{70         \textcolor{keywordflow}{if} (node-\/>right() == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{71             \mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* l = node-\/>left();}
\DoxyCodeLine{72             \textcolor{keyword}{delete} node;}
\DoxyCodeLine{73             node = l;}
\DoxyCodeLine{74         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (node-\/>left() == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{75             \textcolor{keyword}{delete} node;}
\DoxyCodeLine{76             node = r;}
\DoxyCodeLine{77         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{78             \textcolor{keywordflow}{while} (r-\/>left() != \textcolor{keyword}{nullptr}) r = r-\/>left();}
\DoxyCodeLine{79             node-\/>value(r-\/>value());}
\DoxyCodeLine{80             node-\/>right(remove(node-\/>right(), r-\/>value()));}
\DoxyCodeLine{81         \}}
\DoxyCodeLine{82     \}}
\DoxyCodeLine{83 }
\DoxyCodeLine{84     \textcolor{keywordflow}{return} node;}
\DoxyCodeLine{85 \}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{88 \textcolor{keyword}{inline} std::optional<T> \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::find}}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}*\& node, T value) \{}
\DoxyCodeLine{89     \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{90 }
\DoxyCodeLine{91     T v = node-\/>value();}
\DoxyCodeLine{92 }
\DoxyCodeLine{93     \textcolor{keywordflow}{if} (v == value) \textcolor{keywordflow}{return} \{ node-\/>value() \};}
\DoxyCodeLine{94     \textcolor{keywordflow}{if} (v > value) \textcolor{keywordflow}{return} find(node-\/>left(), value);}
\DoxyCodeLine{95     \textcolor{keywordflow}{if} (v < value) \textcolor{keywordflow}{return} find(node-\/>right(), value);}
\DoxyCodeLine{96 \}}
\DoxyCodeLine{97 }
\DoxyCodeLine{98 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{99 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::traverse\_inorder}}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* node, std::function<\textcolor{keywordtype}{void}(T)> visitor) \{}
\DoxyCodeLine{100     \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{101 }
\DoxyCodeLine{102     traverse\_inorder(node-\/>left(), visitor);}
\DoxyCodeLine{103     visitor(node-\/>value());}
\DoxyCodeLine{104     traverse\_inorder(node-\/>right(), visitor);}
\DoxyCodeLine{105 \}}
\DoxyCodeLine{106 }
\DoxyCodeLine{107 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{108 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::traverse\_inorder}}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* node, std::function<\textcolor{keywordtype}{void}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}*)> visitor) \{}
\DoxyCodeLine{109     \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{110 }
\DoxyCodeLine{111     traverse\_inorder(node-\/>left(), visitor);}
\DoxyCodeLine{112     visitor(node);}
\DoxyCodeLine{113     traverse\_inorder(node-\/>right(), visitor);}
\DoxyCodeLine{114 \}}
\DoxyCodeLine{115 }
\DoxyCodeLine{116 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{117 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::traverse\_preorder}}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* node, std::function<\textcolor{keywordtype}{void}(T)> visitor) \{}
\DoxyCodeLine{118     \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{119 }
\DoxyCodeLine{120     visitor(node-\/>value());}
\DoxyCodeLine{121     traverse\_preorder(node-\/>left(), visitor);}
\DoxyCodeLine{122     traverse\_preorder(node-\/>right(), visitor);}
\DoxyCodeLine{123 \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{126 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::traverse\_postorder}}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* node, std::function<\textcolor{keywordtype}{void}(T)> visitor) \{}
\DoxyCodeLine{127     \textcolor{keywordflow}{if} (node == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{128 }
\DoxyCodeLine{129     traverse\_preorder(node-\/>left(), visitor);}
\DoxyCodeLine{130     traverse\_preorder(node-\/>right(), visitor);}
\DoxyCodeLine{131     visitor(node-\/>value());}
\DoxyCodeLine{132 \}}
\DoxyCodeLine{133 }
\DoxyCodeLine{134 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{135 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::height}}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* current) \{}
\DoxyCodeLine{136     \textcolor{keywordflow}{return} current == \textcolor{keyword}{nullptr} ? -\/1 : current-\/>height();}
\DoxyCodeLine{137 \}}
\DoxyCodeLine{138 }
\DoxyCodeLine{139 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{140 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::calculate\_height}}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* node) \{}
\DoxyCodeLine{141     \textcolor{keywordtype}{int} left\_height = height(node-\/>left());}
\DoxyCodeLine{142     \textcolor{keywordtype}{int} right\_height = height(node-\/>right());}
\DoxyCodeLine{143 }
\DoxyCodeLine{144     \textcolor{keywordflow}{return} std::max(left\_height, right\_height) + 1;}
\DoxyCodeLine{145 \}}
\DoxyCodeLine{146 }
\DoxyCodeLine{147 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{148 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::remove}}(T value) \{}
\DoxyCodeLine{149     root\_ = remove(root\_, value);}
\DoxyCodeLine{150 \}}
\DoxyCodeLine{151 }
\DoxyCodeLine{152 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{153 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::traverse}}(std::function<\textcolor{keywordtype}{void}(T)> visitor, TraverseDirection direction) \{}
\DoxyCodeLine{154     \textcolor{keywordflow}{if} (direction == TraverseDirection::Inorder) \{}
\DoxyCodeLine{155         traverse\_inorder(root\_, visitor);}
\DoxyCodeLine{156     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (direction == TraverseDirection::PreOrder) \{}
\DoxyCodeLine{157         traverse\_preorder(root\_, visitor);}
\DoxyCodeLine{158     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (direction == TraverseDirection::Postorder) \{}
\DoxyCodeLine{159         traverse\_postorder(root\_, visitor);}
\DoxyCodeLine{160     \}}
\DoxyCodeLine{161 \}}
\DoxyCodeLine{162 }
\DoxyCodeLine{163 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{164 \textcolor{keywordtype}{void} \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::traverse}}(std::function<\textcolor{keywordtype}{void}(\mbox{\hyperlink{class_tree_node}{TreeNode<T>}}*)> visitor, TraverseDirection direction) \{}
\DoxyCodeLine{165     \textcolor{keywordflow}{if} (direction == TraverseDirection::Inorder) \{}
\DoxyCodeLine{166         traverse\_inorder(root\_, visitor);}
\DoxyCodeLine{167     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (direction == TraverseDirection::PreOrder) \{}
\DoxyCodeLine{168         traverse\_preorder(root\_, visitor);}
\DoxyCodeLine{169     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (direction == TraverseDirection::Postorder) \{}
\DoxyCodeLine{170         traverse\_postorder(root\_, visitor);}
\DoxyCodeLine{171     \}}
\DoxyCodeLine{172 \}}
\DoxyCodeLine{173 }
\DoxyCodeLine{174 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{175 std::optional<T> \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::find}}(T value) \{}
\DoxyCodeLine{176     \textcolor{keywordflow}{return} find(root\_, value);}
\DoxyCodeLine{177 \}}
\DoxyCodeLine{178 }
\DoxyCodeLine{179 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{180 \textcolor{keyword}{inline} \mbox{\hyperlink{class_tree_node}{TreeNode<T>}}* \mbox{\hyperlink{class_binary_tree}{BinaryTree<T>::root}}() \{}
\DoxyCodeLine{181     \textcolor{keywordflow}{return} root\_;}
\DoxyCodeLine{182 \}}

\end{DoxyCode}
